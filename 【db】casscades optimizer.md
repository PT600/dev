
## 搜索时的两种流派
* 一种是以System R为代表的自底向上
* 另一种则是Cascades流派的自顶向下。
    继承了volcano optimizer


ChatGPT:
Cascades Optimizer 是数据库查询优化领域中的一个经典优化器。它是在数据库系统中执行查询优化的一种方法，旨在通过一系列的优化规则和转换来选择最优的查询执行计划。

以下是 Cascades Optimizer 的主要特点和工作原理：

* 逻辑查询计划：
    Cascades Optimizer 接受一个逻辑查询计划作为输入。逻辑查询计划描述了查询的逻辑结构，包括表的连接、选择操作、投影等。这个逻辑查询计划通常是由数据库查询解析器生成的。

*物理查询计划：
    Cascades Optimizer 的目标是生成一个最优的物理查询计划，该计划可以在数据库引擎上高效执行。物理查询计划包括选择合适的索引、连接算法、投影方式等物理操作。

* 搜索空间：
    Cascades Optimizer 使用一种基于搜索空间的方法。它通过搜索可能的物理查询计划空间，并评估每个计划的成本来找到最优的执行计划。这个搜索空间通常是由所有可能的操作序列和它们的组合构成的。

* 优化规则：
    Cascades 使用一系列优化规则，这些规则描述了在逻辑计划和物理计划上的转换。这些规则可以包括谓词下推、连接重排序、索引选择等。优化器尝试应用这些规则来改进查询计划的性能。

* 成本模型：
    成本模型用于估算每个物理计划的执行成本。这个成本通常包括 CPU 成本、I/O 成本等。通过比较这些成本，优化器可以选择最优的执行计划。
剪枝和规则匹配：

由于搜索空间可能非常庞大，为了提高效率，Cascades Optimizer 使用剪枝技术。它通过识别一些显然不是最优计划的情况进行剪枝，并且只考虑那些有可能更优的计划。规则匹配用于检查是否可以应用某些优化规则。
动态规划：

Cascades Optimizer 使用动态规划的方法来选择最优计划。它在搜索空间中构建一个动态规划表，以记录已经计算过的子问题的最优解，从而避免不必要的重复计算。
Cascades Optimizer 提供了一种灵活的框架，允许数据库系统设计者定义一系列的优化规则，并使用成本模型来选择最优的查询执行计划。该方法在数据库查询优化领域中产生了深远的影响，许多现代数据库系统的查询优化器都采用了类似的基本原理。

[Cascades Optimizer - 知乎](https://zhuanlan.zhihu.com/p/73545345)